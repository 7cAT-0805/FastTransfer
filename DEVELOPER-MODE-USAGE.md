# 🛠️ FastTransfer 開發者模式使用指南

## 📝 概述
開發者模式現已增強，提供三種不同的使用方式來滿足不同的開發和測試需求。

## 🚀 三種使用模式

### 1. 🛠️ 完全模擬模式（開發者模式）
**適用場景：** 前端開發、UI 測試、功能展示

**啟用方式：**
```javascript
// 在瀏覽器控制台中輸入：
DevMode_7cAT(5168)
```

**特點：**
- ✅ 完全模擬所有 API 和 Socket 連接
- ✅ 無需後端伺服器運行
- ✅ 快速原型開發和測試
- ✅ 模擬文件上傳、房間管理等功能
- ✅ 包含測試數據和模擬用戶

### 2. 🔌 本地後端模式
**適用場景：** 完整功能測試、後端開發調試

**啟用方式：**
```javascript
// 在瀏覽器控制台中輸入：
ConnectLocal()
```

**前提條件：**
- 本地後端服務器運行在 `localhost:3001`
- 執行 `cd server && npm start` 啟動本地服務器

**特點：**
- ✅ 連接到本地後端 API
- ✅ 真實的文件上傳和下載
- ✅ 完整的 Socket.IO 功能
- ✅ 數據庫操作（如果配置）

### 3. ☁️ 雲端後端模式（預設）
**適用場景：** 生產環境測試、正式使用

**啟用方式：**
```javascript
// 在瀏覽器控制台中輸入：
ConnectCloud()
```

**特點：**
- ✅ 連接到 Railway 雲端服務
- ✅ 生產環境功能
- ✅ 跨設備檔案分享
- ✅ 穩定的在線服務

## 🎛️ 開發者面板功能

當啟用開發者模式後，會在右下角顯示開發者面板，包含：

### 👤 角色切換
- **房主模式：** 可上傳檔案、管理房間
- **訪客模式：** 只能下載檔案、查看內容

### 🔌 後端連接切換
- **本地後端：** 連接到 localhost:3001
- **雲端後端：** 連接到 Railway 服務

### 📊 狀態監控
- API 狀態顯示
- 房間代碼
- 在線用戶數
- 檔案數量
- 分享訊息數

### 🛠️ 快速操作
- 添加測試檔案
- 添加測試訊息
- 清空測試數據
- 退出開發者模式

## 🔄 模式切換

### 從模擬模式切換到本地後端：
1. 確保本地服務器運行
2. 在控制台輸入：`ConnectLocal()`
3. 頁面會自動重新載入並連接到本地後端

### 從本地後端切換到雲端：
1. 在控制台輸入：`ConnectCloud()`
2. 頁面會自動重新載入並連接到雲端服務

### 啟用完全模擬模式：
1. 在控制台輸入：`DevMode_7cAT(5168)`
2. 會顯示開發者面板並進入模擬模式

## 📁 文件預覽增強功能

### 支持的文件類型
- **圖片：** JPG, PNG, GIF, WebP, SVG, BMP
- **影片：** MP4, WebM, OGG, AVI, MOV
- **音頻：** MP3, WAV, OGG, M4A, AAC
- **文檔：** PDF, TXT, MD, JSON, XML
- **程式碼：** JS, TS, Python, Java, C/C++
- **Office：** Word, Excel, PowerPoint（顯示下載提示）

### 圖片預覽功能
- **完美居中：** 圖片在預覽窗口中完美居中顯示
- **縮放控制：** 25% - 300% 縮放範圍
- **旋轉功能：** 90度增量旋轉
- **鍵盤快捷鍵：**
  - `+/-`：縮放
  - `R`：旋轉
  - `ESC`：關閉預覽

## 🐛 調試功能

### 控制台日誌
開發者模式下會顯示詳細的調試訊息：
```
🛠️ Developer Mode: Using mock socket
🔧 API Configuration: Environment: development
🔌 Socket connecting to: http://localhost:3001
✅ 圖片載入成功: example.jpg
```

### 錯誤處理
- 自動檢測文件類型
- 預覽失敗時顯示錯誤訊息
- 提供下載替代方案

## ⚠️ 注意事項

1. **模擬模式限制：**
   - 文件不會真正上傳到服務器
   - Socket 連接為模擬，無法跨瀏覽器
   - 數據在頁面重新載入後會重置

2. **本地模式要求：**
   - 需要本地服務器運行
   - 確保端口 3001 可用
   - 檢查防火牆設置

3. **雲端模式注意：**
   - 需要網絡連接
   - 服務器可能需要時間喚醒（冷啟動）

## 🔧 開發建議

1. **前端開發：** 使用模擬模式進行快速迭代
2. **功能測試：** 使用本地後端進行完整測試
3. **部署驗證：** 使用雲端模式驗證生產環境

## 📞 故障排除

### 開發者模式無法啟用
- 確保輸入正確的密碼：`DevMode_7cAT(5168)`
- 檢查瀏覽器控制台是否有錯誤

### 本地後端連接失敗
- 確認服務器在 `localhost:3001` 運行
- 檢查 `server/index.js` 是否正常啟動
- 驗證沒有端口衝突

### 雲端服務連接問題
- 檢查網絡連接
- 等待服務器冷啟動（約 30 秒）
- 查看控制台網絡錯誤

---

**🎉 現在你可以根據需要選擇最適合的開發模式！**
